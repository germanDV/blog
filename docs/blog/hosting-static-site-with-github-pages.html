
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="keywords"
      content="programming, development, go, rust, typescript, javascript, react, fullstack"
    />
    <meta name="description" content="If you are facing errors trying to deploy a static site generated by anything other than Jekyll to GitHub Pages, a `.nojekyll` file is all you need." />
    <title>germandv: Hosting Static Site With Github Pages</title>
    <link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="/assets/main.css" />
    <link rel="stylesheet" href="/assets/github-dark.min.css" />
    <script src="/assets/highlight.min.js"></script>
  </head>
  <body class="gruvbox">
    <main>
      <header class="entry">
        <a href="/">&larr;</a>

        
        <div class="dates">
          <time datetime="March 14, 2023"><b>Published</b> March 14, 2023</time>
        </div>
        
      </header>

      <h1>Hosting Static Site With Github Pages</h1>

      <div class="excerpt">
        <p>If you are facing errors trying to deploy a static site generated by anything other than Jekyll to GitHub Pages, a `.nojekyll` file is all you need.</p>
      </div>

      <p>I started this site as a Go server, which I deployed to <a href="https://render.com/">Render</a>.
Although this could simply be a static site, actually the Go server just serves precompiled HTML pages from
Markdown entries, I wanted a server to add some more functionality to it.</p>

<p>I haven&rsquo;t totally changed my mind about the extra functionality that would require me to have a server that would
do more than just serving static assets; however, I decided to turn it into a static site that I could host
on GitHub Pages until I developed such functionality, at which point I may come back to Render or use a different
service.</p>

<p>When you host on GitHub Pages, you can either serve the root (<code>/</code>) of your repository, or serve files from a <code>docs/</code>
directory. In many cases, the latter is the option you want, as the root may contain non-distributable source files
such as the markdown entries, the code to compile to HTML, etc. That&rsquo;s true in my case as I have all the Go code for
what you may call a &ldquo;blog engine&rdquo;. And it may be true in many other cases; for example, I helped a friend build and
deploy a static site generated with <a href="https://nextjs.org">Next.js</a>, and it&rsquo;s the same thing, you just want the output
directory (which you need to name <em>docs</em>) to be served.</p>

<p>In both experiences deploying to GitHub Pages, I ran into the same problem, that&rsquo;s why I decided to write this short article.
After setting everything up in GitHub and pushing to the <em>main</em> branch, the process would fail, with some errors
that I couldn&rsquo;t totally make sense of.</p>

<p>In my case, it was complaining about Go&rsquo;s HTML template syntax, but that was not in the <em>docs/</em> directory,
which gave me the clue that GitHub was not just serving the <em>docs/</em> directory, it was doing some more checks.
After a quick duckduckgo search, I learnt that GitHub treats your site as a <a href="https://jekyllrb.com/">Jekyll</a> one
by default, which comes with its own rules and expectations.</p>

<p>The solution I found is to simply include a <code>.nojekyll</code> empty file in the <em>docs/</em> directory.
And that&rsquo;s it, on the next push, everything builds correctly and gets published as expected.</p>

<p>Hope this saves you some time.</p>

    </main>
    
<footer>
  <nav>
    <div>
      <a href="/">HOME</a>
      <a href="/about.html">ABOUT</a>
      <a href="/blog/feed.xml">RSS</a>
    </div>
    <div>
      <img
        src="/assets/gruvbox.png"
        alt="Gruvbox colorscheme"
        title="Gruvbox"
        width="125px"
        onclick="changeTheme('gruvbox');"
      />
      <img
        src="/assets/nord.png"
        alt="Nord colorscheme"
        title="Nord"
        width="125px"
        onclick="changeTheme('nord');"
      />
      <img
        src="/assets/light.png"
        alt="Light colorscheme"
        title="Light"
        width="125px"
        onclick="changeTheme('onelight');"
      />
    </div>
  </nav>
</footer>
<script>
  function setTheme(name) {
    window.document.querySelector("body").className = name
  }
  function changeTheme(name) {
    window.localStorage.setItem("colorscheme", name)
    setTheme(name)
  }
  window.onload = () => {
    const stored = window.localStorage.getItem("colorscheme")
    const theme = ["gruvbox", "nord", "onelight"].includes(stored) ? stored : "gruvbox"
    setTheme(theme)
  }
</script>

    <script>
      hljs.highlightAll()
    </script>
  </body>
</html>
